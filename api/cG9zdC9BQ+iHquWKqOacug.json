{"title":"","date":"2018-12-20T00:20:29.261Z","slug":"AC自动机","updated":"2018-12-20T01:56:44.240Z","content":"<h1 id=\"AC自动机学习笔记\"><a href=\"#AC自动机学习笔记\" class=\"headerlink\" title=\"AC自动机学习笔记\"></a>AC自动机学习笔记</h1><h2 id=\"一、用途\"><a href=\"#一、用途\" class=\"headerlink\" title=\"一、用途\"></a>一、用途</h2><p>我们知道，AC自动机是一种多模字符串匹配算法。AC自动机适用于已知大量模式串，要询问模式串在文本串中的匹配情况的算法。</p>\n<h2 id=\"二、模板的实现\"><a href=\"#二、模板的实现\" class=\"headerlink\" title=\"二、模板的实现\"></a>二、模板的实现</h2><h3 id=\"前置技能：Trie树（字典树）\"><a href=\"#前置技能：Trie树（字典树）\" class=\"headerlink\" title=\"前置技能：Trie树（字典树）\"></a>前置技能：Trie树（字典树）</h3><p>对于所有的模式串，我们使用 $Trie$ 树来存储。构造 Trie 树 后，在模式串末尾一位的结点作上标记。</p>\n<h3 id=\"Fail标记\"><a href=\"#Fail标记\" class=\"headerlink\" title=\"Fail标记\"></a>Fail标记</h3><p>为了匹配的效率更高，减少多余运算的次数，我们对于每个结点建立 $Fail$ 标记，当在该结点失配时，直接跳到标记处，因为已经有公共前缀被匹配过了。</p>\n<h3 id=\"Get-Fail标记\"><a href=\"#Get-Fail标记\" class=\"headerlink\" title=\"Get Fail标记\"></a>Get Fail标记</h3><p>所有结点的 $Fail$ 标记时指向离它最近的字典序在它之后的拥有最长公共前缀的结点。所以我们可以用 $bfs$ 的方法搜出所有的 $Fail$ 标记</p>\n<h3 id=\"查询操作\"><a href=\"#查询操作\" class=\"headerlink\" title=\"查询操作\"></a>查询操作</h3><p>我们直接将文本串放入AC自动机中匹配，如果匹配继续往下，否则跳到 $Fail$ 标记处</p>\n<div class=\"article-img\"><p><img src=\"C:\\Users\\Administrator\\Desktop\\MyBlog\\source\\_posts\\AC自动机\\AC自动机.png\" alt=\"AC自动机\"></p></div>\n<p>这是一张很清楚的AC自动机的匹配图</p>\n<h2 id=\"三、题目摘录\"><a href=\"#三、题目摘录\" class=\"headerlink\" title=\"三、题目摘录\"></a>三、题目摘录</h2><h3 id=\"POI2000-病毒\"><a href=\"#POI2000-病毒\" class=\"headerlink\" title=\"[POI2000]病毒\"></a>[POI2000]病毒</h3><p>如果在一个文本串中，没有任何一个模式串与其相匹配，则不碰到模式串的结尾标记。我们先建出 $Tire$ 图，我们只要在图中找到一个不进过任何有结尾标记的的结点的环，就有成立的文本串。但我们要注意如果一个串的前缀中有结尾标记，则该结尾标记后都要打上结尾标记，防止 $fail$ B标记乱跳导致答案出错</p>\n","prev":{"title":"","slug":"后缀数组"},"next":{"title":"Hello World","slug":"hello-world"},"link":"http://yoursite.com/post/AC自动机/","toc":[{"title":"AC自动机学习笔记","id":"AC自动机学习笔记","index":"1","children":[{"title":"一、用途","id":"一、用途","index":"1.1"},{"title":"二、模板的实现","id":"二、模板的实现","index":"1.2","children":[{"title":"前置技能：Trie树（字典树）","id":"前置技能：Trie树（字典树）","index":"1.2.1"},{"title":"Fail标记","id":"Fail标记","index":"1.2.2"},{"title":"Get Fail标记","id":"Get-Fail标记","index":"1.2.3"},{"title":"查询操作","id":"查询操作","index":"1.2.4"}]},{"title":"三、题目摘录","id":"三、题目摘录","index":"1.3","children":[{"title":"[POI2000]病毒","id":"POI2000-病毒","index":"1.3.1"}]}]}]}